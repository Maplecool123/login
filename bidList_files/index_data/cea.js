var ip_pat=/^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$/;function gdm(host){var pos=host.indexOf(":");if(pos>0)host=host.substr(0,pos);var flds=host.split(".");var len=flds.length;var domain="";if(host.match(ip_pat)){return""}if(len>=3){if(flds[len-1]=="cn"){var se=flds[len-2];if(se=="com"||se=="net"||se=="org"||se=="edu"||se=="gov"){domain="."+flds[len-3]+"."+se+"."+flds[len-1]}else{domain="."+se+"."+flds[len-1]}}else{var se=flds[len-2];domain="."+se+"."+flds[len-1]}}return domain}try{(function(window){'use strict';var document=window.document,Image=window.Image,globalStorage=window.globalStorage;var flash_key="_evercookie_flash_var";try{var localStore=window.localStorage}catch(ex){}try{var sessionStorage=window.sessionStorage}catch(e){}function newImage(src){var img=new Image();img.style.visibility="hidden";img.style.position="absolute";img.src=src}function do_cm(){var cms=["http://cm.pos.baidu.com/pixel?dspid=18077899"];for(var i=0;i<cms.length;i++){newImage(cms[i])}}window.do_cm=do_cm;function _ec_replace(str,key,value){if(str.indexOf("&"+key+"=")>-1||str.indexOf(key+"=")===0){var idx=str.indexOf("&"+key+"="),end,newstr;if(idx===-1){idx=str.indexOf(key+"=")}end=str.indexOf("&",idx+1);if(end!==-1){newstr=str.substr(0,idx)+str.substr(end+(idx?0:1))+"&"+key+"="+value}else{newstr=str.substr(0,idx)+"&"+key+"="+value}return newstr}else{return str+"&"+key+"="+value}}function idb(){if('indexedDB'in window){return true}else if(window.indexedDB=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB){return true}else{return false}}var _global_lso;function _evc_flash_var(cookie){_global_lso=cookie;var swf=document.getElementById("myswf");if(swf&&swf.parentNode){swf.parentNode.removeChild(swf)}}var _global_isolated;function HSTS_Cookie(domains){var fields=[];var remaining=0;var working=false;function create_request(i,src,callback){var img=document.createElement('img');img.src=src+'#'+parseInt(Math.random()*32000);img.onload=function(){fields[i]=true;remaining-=1;if(remaining<=0){working=false;callback(fields)}};img.onerror=function(){fields[i]=false;remaining-=1;if(remaining<=0){working=false;callback(fields)}};return img}function pad(value,length){return(value.toString().length<length)?pad("0"+value,length):value}function bools_to_int(bools){var n=0,l=bools.length;for(var i=0;i<l;++i){n=(n<<1)+(bools[i]?1:0)}return n}function int_to_bools(value,bit_count){var bools=[];var bits=parseInt(value,10).toString(2);bits=pad(bits,32);for(var i=32-bit_count;i<32;++i){bools.push(bits[i]=='1'?true:false)}return bools}return{'bools_to_int':bools_to_int,'is_working':function(){return working},'get_hsts_value':function(callback){if(working)return false;working=true;fields=[];remaining=domains.length;for(var i=0;i<domains.length;++i){fields.push(undefined);var img=create_request(i,domains[i],callback)}return true},'set_hsts_value':function(values,callback){if(working)return false;working=true;fields=[];remaining=domains.length;for(var i=0;i<domains.length;++i){fields.push(undefined);if(values[i])create_request(i,domains[i]+'?SET=1',callback);else create_request(i,domains[i]+'?DEL=1',callback)}return true},'set_hsts_as_int':function(value,callback){var value=int_to_bools(value,domains.length);return this.set_hsts_value(value,callback)},'get_hsts_as_int':function(callback){return this.get_hsts_value(function(fields){callback(bools_to_int(fields))})}}}var defaultOptionMap={history:false,java:false,tests:10,silverlight:false,domain:".orchidscap.net",baseurl:'http://log.orchidscape.net:8080',asseturi:'',phpuri:'',authPath:false,pngCookieName:'epg',pngPath:'/epg.php',etagCookieName:'etg',etagPath:'/etg.php',cacheCookieName:'eca',cachePath:'/eca.php',hsts:false,hsts_domains:[]};var _baseKeyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Evc(options){options=options||{};var opts={};for(var key in defaultOptionMap){var optValue=options[key];if(typeof optValue!=='undefined'){opts[key]=optValue}else{opts[key]=defaultOptionMap[key]}}if(typeof opts.domain==='function'){opts.domain=opts.domain(window)}var _ec_history=opts.history,_ec_java=opts.java,_ec_tests=opts.tests,_ec_baseurl=opts.baseurl,_ec_asseturi=opts.asseturi,_ec_phpuri=opts.phpuri,_ec_domain=opts.domain,_ec_hsts=opts.hsts;var self=this;this._ec={};if(_ec_hsts){if(opts.hsts_domains.length<=8){console.log('HSTS cookie with '+opts.hsts_domains.length+' can only save values up to '+Math.pow(2,opts.hsts_domains.length)-1)}this.hsts_cookie=HSTS_Cookie(opts.hsts_domains)}this.get=function(name,cb,dont_reset){self._evc(name,cb,undefined,undefined,dont_reset)};this.set=function(name,value){self._evc(name,function(){},value)};this._evc=function(name,cb,value,i,dont_reset){if(self._evc===undefined){self=this}if(i===undefined){i=0}if(i===0){self.evc_database_storage(name,value);self.evc_indexdb_storage(name,value);self.evc_png(name,value);self.evc_etag(name,value);self.evc_cache(name,value);self.evc_lso(name,value);if(opts.authPath){self.evc_auth(name,value)}self._ec.userData=self.evc_userdata(name,value);self._ec.cookieData=self.evc_cookie(name,value);self._ec.localData=self.evc_local_storage(name,value);self._ec.globalData=self.evc_global_storage(name,value);self._ec.sessionData=self.evc_session_storage(name,value);self._ec.windowData=self.evc_window(name,value);if(_ec_history){self._ec.historyData=self.evc_history(name,value)}}var J=true;if(navigator.userAgent.match(/(iPhone|iPod|Android|ios|ipad)/i)){J=false}if(value!==undefined){if((J&&typeof _global_lso==="undefined")&&i++<_ec_tests){setTimeout(function(){self._evc(name,cb,value,i,dont_reset)},300)}}else{if(((window.openDatabase&&typeof self._ec.dbData==="undefined")||(idb()&&(typeof self._ec.idbData==="undefined"||self._ec.idbData===""))||(typeof _global_lso==="undefined")||(typeof self._ec.etagData==="undefined"))&&i++<_ec_tests){setTimeout(function(){self._evc(name,cb,value,i,dont_reset)},300)}else{self._ec.lsoData=self.getFromStr(name,_global_lso);_global_lso=undefined;self._ec.slData=self.getFromStr(name,_global_isolated);_global_isolated=undefined;var tmpec=self._ec,candidates=[],bestnum=0,candidate,item;self._ec={};for(item in tmpec){if(tmpec[item]&&tmpec[item]!=="null"&&tmpec[item]!=="undefined"){candidates[tmpec[item]]=candidates[tmpec[item]]===undefined?1:candidates[tmpec[item]]+1}}for(item in candidates){if(candidates[item]>bestnum){bestnum=candidates[item];candidate=item}}this.working=false;if(candidate!==undefined&&(dont_reset===undefined||dont_reset!==1)){self.set(name,candidate)}if(typeof cb==="function"){cb(candidate,tmpec)}}}};this.evc_window=function(name,value){try{if(value!==undefined){window.name=_ec_replace(window.name,name,value)}else{return this.getFromStr(name,window.name)}}catch(e){}};this.evc_userdata=function(name,value){try{var elm=this.createElem("div","userdata_el",1);if(elm.addBehavior){elm.style.behavior="url(#default#userData)";if(value!==undefined){elm.setAttribute(name,value);elm.save(name)}else{elm.load(name);return elm.getAttribute(name)}}}catch(e){}};this.ajax=function(settings){var headers,name,transports,transport,i,length;headers={'X-Requested-With':'XMLHttpRequest','Accept':'text/javascript, text/html, application/xml, text/xml, */*'};transports=[function(){return new XMLHttpRequest()},function(){return new ActiveXObject('Msxml2.XMLHTTP')},function(){return new ActiveXObject('Microsoft.XMLHTTP')}];for(i=0,length=transports.length;i<length;i++){transport=transports[i];try{transport=transport();break}catch(e){}}transport.onreadystatechange=function(){if(transport.readyState!==4){return}settings.success(transport.responseText)};transport.open('get',settings.url,true);for(name in headers){transport.setRequestHeader(name,headers[name])}transport.send()};this.evc_cache=function(name,value){return;if(value!==undefined){document.cookie=opts.cacheCookieName+"="+value+"; path=/; domain="+_ec_domain;self.ajax({url:_ec_baseurl+_ec_phpuri+opts.cachePath+"?name="+name+"&cookie="+opts.cacheCookieName,success:function(data){}})}else{var origvalue=this.getFromStr(opts.cacheCookieName,document.cookie);self._ec.cacheData=undefined;document.cookie=opts.cacheCookieName+"=; expires=Mon, 20 Sep 2010 00:00:00 UTC; path=/; domain="+_ec_domain;self.ajax({url:_ec_baseurl+_ec_phpuri+opts.cachePath+"?name="+name+"&cookie="+opts.cacheCookieName,success:function(data){document.cookie=opts.cacheCookieName+"="+origvalue+"; expires=Sun, 08-Aug-2021 06:05:50 GMT; path=/; domain="+_ec_domain;self._ec.cacheData=data}})}};this.evc_auth=function(name,value){if(value!==undefined){newImage('//'+value+'@'+location.host+_ec_baseurl+_ec_phpuri+opts.authPath+"?name="+name)}else{self.ajax({url:_ec_baseurl+_ec_phpuri+opts.authPath+"?name="+name,success:function(data){self._ec.authData=data}})}};this.evc_etag=function(name,value){if(value!==undefined){document.cookie=opts.etagCookieName+"="+value+"; path=/; domain="+_ec_domain;self.ajax({url:_ec_baseurl+_ec_phpuri+opts.etagPath+"?name="+name+"&cookie="+opts.etagCookieName,success:function(data){}})}else{var origvalue=this.getFromStr(opts.etagCookieName,document.cookie);self._ec.etagData=undefined;document.cookie=opts.etagCookieName+"=; expires=Mon, 20 Sep 2010 00:00:00 UTC; path=/; domain="+_ec_domain;self.ajax({url:_ec_baseurl+_ec_phpuri+opts.etagPath+"?name="+name+"&cookie="+opts.etagCookieName,success:function(data){document.cookie=opts.etagCookieName+"="+origvalue+"; expires=Sun, 08-Aug-2021 06:05:50 GMT; path=/; domain="+_ec_domain;self._ec.etagData=data}})}};this.evc_lso=function(name,value){var div=document.getElementById("com_cea"),flashvars={},params={},attributes={};if(div===null||div===undefined||!div.length){div=document.createElement("div");div.setAttribute("id","com_cea");div.setAttribute("style","width:1px;height:1px;background:#FFF;display:inline-block;position:absolute;left:-2000px;top:-2000px;");document.body.appendChild(div)}if(value!==undefined){flashvars.everdata=name+"="+value}params.swliveconnect="true";attributes.id="myswf";attributes.name="myswf";var M=_ec_baseurl+_ec_asseturi+"/ce.swf";div.innerHTML="<object classid='clsid:d27cdb6e-ae6d-11cf-96b8-444553540000' width='0' height='0' "+"id='com_ca_e_c_a_collect' align='middle'>"+"<param name='allowScriptAccess' value='always' />"+"<param name='allowFullScreen' value='false' />"+"<param name='movie' value='"+M+"' />"+"<param name='quality' value='low' />"+"<param name='bgcolor' value='#ffffff' />	"+"<embed src='"+M+"' quality='low' bgcolor='#ffffff' width='0' height='0' name='com_cea' "+"align='middle' allowScriptAccess='always' allowFullScreen='false' type='application/x-shockwave-flash'/>";+"</object>"};this.evc_png=function(name,value){return;var canvas=document.createElement("canvas"),img,ctx,origvalue;canvas.style.visibility="hidden";canvas.style.position="absolute";canvas.width=200;canvas.height=1;if(canvas&&canvas.getContext){img=new Image();img.style.visibility="hidden";img.style.position="absolute";if(value!==undefined){document.cookie=opts.pngCookieName+"="+value+"; path=/; domain="+_ec_domain}else{self._ec.pngData=undefined;ctx=canvas.getContext("2d");origvalue=this.getFromStr(opts.pngCookieName,document.cookie);document.cookie=opts.pngCookieName+"=; expires=Mon, 20 Sep 2010 00:00:00 UTC; path=/; domain="+_ec_domain;img.onload=function(){document.cookie=opts.pngCookieName+"="+origvalue+"; expires=Sun, 08-Aug-2021 06:05:50 GMT; path=/; domain="+_ec_domain;self._ec.pngData="";ctx.drawImage(img,0,0);var imgd=ctx.getImageData(0,0,200,1),pix=imgd.data,i,n;for(i=0,n=pix.length;i<n;i+=4){if(pix[i]===0){break}self._ec.pngData+=String.fromCharCode(pix[i]);if(pix[i+1]===0){break}self._ec.pngData+=String.fromCharCode(pix[i+1]);if(pix[i+2]===0){break}self._ec.pngData+=String.fromCharCode(pix[i+2])}}}img.src=_ec_baseurl+_ec_phpuri+opts.pngPath+"?name="+name+"&cookie="+opts.pngCookieName}};this.evc_local_storage=function(name,value){try{if(localStore){if(value!==undefined){localStore.setItem(name,value)}else{return localStore.getItem(name)}}}catch(e){}};this.evc_database_storage=function(name,value){try{if(window.openDatabase){var database=window.openDatabase("sqlite_evc","","evc",1024*1024);if(value!==undefined){database.transaction(function(tx){tx.executeSql("CREATE TABLE IF NOT EXISTS cache("+"id INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT, "+"name TEXT NOT NULL, "+"value TEXT NOT NULL, "+"UNIQUE (name)"+")",[],function(tx,rs){},function(tx,err){});tx.executeSql("INSERT OR REPLACE INTO cache(name, value) "+"VALUES(?, ?)",[name,value],function(tx,rs){},function(tx,err){})})}else{database.transaction(function(tx){tx.executeSql("SELECT value FROM cache WHERE name=?",[name],function(tx,result1){if(result1.rows.length>=1){self._ec.dbData=result1.rows.item(0).value}else{self._ec.dbData=""}},function(tx,err){})})}}}catch(e){}};this.evc_indexdb_storage=function(name,value){try{if(!('indexedDB'in window)){indexedDB=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB;IDBTransaction=window.IDBTransaction||window.webkitIDBTransaction||window.msIDBTransaction;IDBKeyRange=window.IDBKeyRange||window.webkitIDBKeyRange||window.msIDBKeyRange}if(indexedDB){var ver=1;var request=indexedDB.open("idb_evc",ver);request.onerror=function(e){};request.onupgradeneeded=function(event){var db=event.target.result;var store=db.createObjectStore("evc",{keyPath:"name",unique:false})};if(value!==undefined){request.onsuccess=function(event){var idb=event.target.result;if(idb.objectStoreNames.contains("evc")){var tx=idb.transaction(["evc"],"readwrite");var objst=tx.objectStore("evc");var qr=objst.put({"name":name,"value":value})}idb.close()}}else{request.onsuccess=function(event){var idb=event.target.result;if(!idb.objectStoreNames.contains("evc")){self._ec.idbData=undefined}else{var tx=idb.transaction(["evc"]);var objst=tx.objectStore("evc");var qr=objst.get(name);qr.onsuccess=function(event){if(qr.result===undefined){self._ec.idbData=undefined}else{self._ec.idbData=qr.result.value}}}idb.close()}}}}catch(e){}};this.evc_session_storage=function(name,value){try{if(sessionStorage){if(value!==undefined){sessionStorage.setItem(name,value)}else{return sessionStorage.getItem(name)}}}catch(e){}};this.evc_global_storage=function(name,value){if(globalStorage){var host=this.getHost();try{if(value!==undefined){globalStorage[host][name]=value}else{return globalStorage[host][name]}}catch(e){}}};this.encode=function(input){var output="",chr1,chr2,chr3,enc1,enc2,enc3,enc4,i=0;input=this._utf8_encode(input);while(i<input.length){chr1=input.charCodeAt(i++);chr2=input.charCodeAt(i++);chr3=input.charCodeAt(i++);enc1=chr1>>2;enc2=((chr1&3)<<4)|(chr2>>4);enc3=((chr2&15)<<2)|(chr3>>6);enc4=chr3&63;if(isNaN(chr2)){enc3=enc4=64}else if(isNaN(chr3)){enc4=64}output=output+_baseKeyStr.charAt(enc1)+_baseKeyStr.charAt(enc2)+_baseKeyStr.charAt(enc3)+_baseKeyStr.charAt(enc4)}return output};this.decode=function(input){var output="",chr1,chr2,chr3,enc1,enc2,enc3,enc4,i=0;input=input.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(i<input.length){enc1=_baseKeyStr.indexOf(input.charAt(i++));enc2=_baseKeyStr.indexOf(input.charAt(i++));enc3=_baseKeyStr.indexOf(input.charAt(i++));enc4=_baseKeyStr.indexOf(input.charAt(i++));chr1=(enc1<<2)|(enc2>>4);chr2=((enc2&15)<<4)|(enc3>>2);chr3=((enc3&3)<<6)|enc4;output=output+String.fromCharCode(chr1);if(enc3!==64){output=output+String.fromCharCode(chr2)}if(enc4!==64){output=output+String.fromCharCode(chr3)}}output=this._utf8_decode(output);return output};this._utf8_encode=function(str){str=str.replace(/\r\n/g,"\n");var utftext="",i=0,n=str.length,c;for(;i<n;i++){c=str.charCodeAt(i);if(c<128){utftext+=String.fromCharCode(c)}else if((c>127)&&(c<2048)){utftext+=String.fromCharCode((c>>6)|192);utftext+=String.fromCharCode((c&63)|128)}else{utftext+=String.fromCharCode((c>>12)|224);utftext+=String.fromCharCode(((c>>6)&63)|128);utftext+=String.fromCharCode((c&63)|128)}}return utftext};this._utf8_decode=function(utftext){var str="",i=0,n=utftext.length,c=0,c1=0,c2=0,c3=0;while(i<n){c=utftext.charCodeAt(i);if(c<128){str+=String.fromCharCode(c);i+=1}else if((c>191)&&(c<224)){c2=utftext.charCodeAt(i+1);str+=String.fromCharCode(((c&31)<<6)|(c2&63));i+=2}else{c2=utftext.charCodeAt(i+1);c3=utftext.charCodeAt(i+2);str+=String.fromCharCode(((c&15)<<12)|((c2&63)<<6)|(c3&63));i+=3}}return str};this.evc_history=function(name,value){var baseElems=(_baseKeyStr+"-").split(""),url="http://www.google.com/evc/cache/"+this.getHost()+"/"+name,i,base,letter="",val="",found=1;if(value!==undefined){if(this.hasVisited(url)){return}this.createIframe(url,"if");url=url+"/";base=this.encode(value).split("");for(i=0;i<base.length;i++){url=url+base[i];this.createIframe(url,"if"+i)}url=url+"-";this.createIframe(url,"if_")}else{if(this.hasVisited(url)){url=url+"/";while(letter!=="-"&&found===1){found=0;for(i=0;i<baseElems.length;i++){if(this.hasVisited(url+baseElems[i])){letter=baseElems[i];if(letter!=="-"){val=val+letter}url=url+letter;found=1;break}}}return this.decode(val)}}};this.createElem=function(type,name,append){var el;if(name!==undefined&&document.getElementById(name)){el=document.getElementById(name)}else{el=document.createElement(type)}el.style.visibility="hidden";el.style.position="absolute";if(name){el.setAttribute("id",name)}if(append){document.body.appendChild(el)}return el};this.createIframe=function(url,name){var el=this.createElem("iframe",name,1);el.setAttribute("src",url);return el};var waitForSwf=this.waitForSwf=function(i){if(i===undefined){i=0}else{i++}};this.evc_cookie=function(name,value){if(value!==undefined){document.cookie=name+"=; expires=Mon, 20 Sep 2010 00:00:00 UTC; path=/; domain="+_ec_domain;document.cookie=name+"="+value+"; expires=Sun, 08-Aug-2021 06:05:50 GMT; path=/; domain="+_ec_domain}else{return this.getFromStr(name,document.cookie)}};this.getFromStr=function(name,text){if(typeof text!=="string"){return}var nameEQ=name+"=",ca=text.split(/[;&]/),i,c;for(i=0;i<ca.length;i++){c=ca[i];while(c.charAt(0)===" "){c=c.substring(1,c.length)}if(c.indexOf(nameEQ)===0){return c.substring(nameEQ.length,c.length)}}};this.getHost=function(){return window.location.host.replace(/:\d+/,'')};this.toHex=function(str){var r="",e=str.length,c=0,h;while(c<e){h=str.charCodeAt(c++).toString(16);while(h.length<2){h="0"+h}r+=h}return r};this.fromHex=function(str){var r="",e=str.length,s;while(e>=0){s=e-2;r=String.fromCharCode("0x"+str.substring(s,e))+r;e=s}return r};this.hasVisited=function(url){if(this.no_color===-1){var no_style=this._getRGB("http://samy-was-here-this-should-never-be-visited.com",-1);if(no_style===-1){this.no_color=this._getRGB("http://samy-was-here-"+Math.floor(Math.random()*9999999)+"rand.com")}}if(url.indexOf("https:")===0||url.indexOf("http:")===0){return this._testURL(url,this.no_color)}return this._testURL("http://"+url,this.no_color)||this._testURL("https://"+url,this.no_color)||this._testURL("http://www."+url,this.no_color)||this._testURL("https://www."+url,this.no_color)};var _link=this.createElem("a","_ec_rgb_link"),created_style,_cssText="#_ec_rgb_link:visited{display:none;color:#FF0000}",style;try{created_style=1;style=document.createElement("style");if(style.styleSheet){style.styleSheet.innerHTML=_cssText}else if(style.innerHTML){style.innerHTML=_cssText}else{style.appendChild(document.createTextNode(_cssText))}}catch(e){created_style=0}this._getRGB=function(u,test_color){if(test_color&&created_style===0){return-1}_link.href=u;_link.innerHTML=u;document.body.appendChild(style);document.body.appendChild(_link);var color;if(document.defaultView){if(document.defaultView.getComputedStyle(_link,null)==null){return-1}color=document.defaultView.getComputedStyle(_link,null).getPropertyValue("color")}else{color=_link.currentStyle.color}return color};this._testURL=function(url,no_color){var color=this._getRGB(url);if(color==="rgb(255, 0, 0)"||color==="#ff0000"){return 1}else if(no_color&&color!==no_color){return 1}return 0}};window[flash_key]=_evc_flash_var;window.evc=window.Evc=Evc}(window))}catch(ex){}(function(w){var gevc=new w.evc({domain:".orchidscape.net"});var ouid="";var nouid='xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx'.replace(/[xy]/g,function(c){var r=Math.random()*16|0,v=c=='x'?r:r&0x3|0x8;return v.toString(16)});gevc.get('uaid',function(value){ouid=value;if(w.do_cm)w.do_cm();if(typeof value=="undefined"||value.length<=16){ouid=nouid;gevc.set("uaid",nouid)}w.__cmuaid=ouid;document.cookie="u"+"a"+"id"+"="+ouid+"; expires=Sun, 08-Aug-2021 06:05:50 GMT; path=/; domain="+gdm(w.location.host)})}(window));
